(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-demo-dragVerifyRatate"],{"0b6a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"test",data:function(){return{customStyle:{padding:"20rpx"},imgs:["/static/com/chip/001.jpg","/static/com/chip/003.jpg","/static/com/chip/004.jpg","/static/com/chip/005.jpg"],isPassing:!1,imgSrc:""}},onLoad:function(){this.refresh()},methods:{reset:function(){this.isPassing=!1,this.$refs.rotate.reset()},refresh:function(){this.imgSrc=this.imgs[Math.round(Math.random()*this.imgs.length)],console.log(this.imgSrc)},pass:function(t){t&&this.layer.msg("验证通过",{icon:[0,"font-size:48px;"]})}}};e.default=a},"195f":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={uIcon:i("2925").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"drag-verify-container"},[i("v-uni-view",{style:t.dragVerifyImgStyle},[i("v-uni-image",{staticClass:"check-img",class:{goOrigin:t.isOk},style:[t.imgStyle,{width:t.width+"rpx",height:t.width+"rpx"}],attrs:{src:t.imgSrc,mode:"aspectFill",alt:""},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.checkimgLoaded.apply(void 0,arguments)}}}),t.showTips&&t.isPassing?i("v-uni-view",{staticClass:"tips success"},[t._v(t._s(t.SuccessText))]):t._e(),t.showTips&&!t.isPassing&&t.showErrorTip?i("v-uni-view",{staticClass:"tips danger"},[t._v(t._s(t.FailText))]):t._e()],1),i("v-uni-view",{staticClass:"wb-drag_verify",style:[t.dragVerifyStyle],on:{mousemove:function(e){arguments[0]=e=t.$handleEvent(e),t.dragMoving.apply(void 0,arguments)},mouseup:function(e){arguments[0]=e=t.$handleEvent(e),t.dragFinish.apply(void 0,arguments)},mouseleave:function(e){arguments[0]=e=t.$handleEvent(e),t.dragFinish.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.dragMoving.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.dragFinish.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"wb-drag_dv_progress_bar",class:{goFirst2:t.isOk},style:[t.progressBarStyle]},[t._v(t._s(t.successMessage))]),i("v-uni-view",{staticClass:"wb-drag_dv_text",class:[t.isPassing?"slidetounlock2":"slidetounlock"],style:[t.textStyle]},[t._v(t._s(t.message))]),i("v-uni-view",{staticClass:"wb-drag_dv_handler",class:{goFirst:t.isOk},style:[t.handlerStyle],attrs:{id:"handler"},on:{mousedown:function(e){arguments[0]=e=t.$handleEvent(e),t.dragStart.apply(void 0,arguments)},touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.dragStart.apply(void 0,arguments)}}},[i("u-icon",{attrs:{name:t.isPassing?t.successIcon:t.handlerIcon,color:t.isPassing?t.completedBg:"",size:t.isPassing?32:28}})],1)],1)],1)},n=[]},"33d6":function(t,e,i){var a=i("697c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("320b6b87",a,!0,{sourceMap:!1,shadowMode:!1})},"4a21":function(t,e,i){"use strict";i.r(e);var a=i("5f42"),s=i("9e7b");for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("60bc");var r,o=i("f0c5"),d=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"f995bba6",null,!1,a["a"],r);e["default"]=d.exports},"4e67":function(t,e,i){"use strict";i.r(e);var a=i("195f"),s=i("cfb2");for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("e9cd");var r,o=i("f0c5"),d=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"4e6a65d6",null,!1,a["a"],r);e["default"]=d.exports},"5f42":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={wbPage:i("3d57").default,wbDragVerifyRotate:i("4e67").default,wbButton:i("13e6").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("wb-page",{attrs:{"custom-style":t.customStyle}},[i("wb-drag-verify-rotate",{ref:"rotate",attrs:{"img-src":t.imgSrc,"is-passing":t.isPassing},on:{"update:isPassing":function(e){arguments[0]=e=t.$handleEvent(e),t.isPassing=e},"update:is-passing":function(e){arguments[0]=e=t.$handleEvent(e),t.isPassing=e},verify:function(e){arguments[0]=e=t.$handleEvent(e),t.pass.apply(void 0,arguments)}}}),i("wb-button",{attrs:{type:"primary",margin:"10px 0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reset.apply(void 0,arguments)}}},[t._v("还原")]),i("wb-button",{attrs:{type:"primary",margin:"10px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.refresh.apply(void 0,arguments)}}},[t._v("刷新")])],1)},n=[]},"60bc":function(t,e,i){"use strict";var a=i("33d6"),s=i.n(a);s.a},"697c":function(t,e,i){var a=i("4bad");e=a(!1),e.push([t.i,"uni-page-body[data-v-f995bba6]{background-color:#666}body.?%PAGE?%[data-v-f995bba6]{background-color:#666}",""]),t.exports=e},"7cc4":function(t,e,i){var a=i("7d47");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("a9f27aba",a,!0,{sourceMap:!1,shadowMode:!1})},"7d47":function(t,e,i){var a=i("4bad");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/* COOL-UNI 颜色变量 */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 默认主题色 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.wb-drag_verify[data-v-4e6a65d6]{position:relative;background-color:#e8e8e8;text-align:center;overflow:hidden}.wb-drag_verify .wb-drag_dv_handler[data-v-4e6a65d6]{position:absolute;top:0;left:0;cursor:move}.wb-drag_verify .wb-drag_dv_handler i[data-v-4e6a65d6]{color:#666;padding-left:0;font-size:16px}.wb-drag_verify .wb-drag_dv_progress_bar[data-v-4e6a65d6]{position:absolute;height:34px;width:0}.wb-drag_verify .wb-drag_dv_text[data-v-4e6a65d6]{position:absolute;top:0;-webkit-user-select:none;user-select:none;-webkit-text-size-adjust:none}.slidetounlock[data-v-4e6a65d6]{-webkit-animation:slidetounlock-data-v-4e6a65d6 3s infinite;animation:slidetounlock-data-v-4e6a65d6 3s infinite}.slidetounlock2[data-v-4e6a65d6]{-webkit-animation:slidetounlock2-data-v-4e6a65d6 3s infinite;animation:slidetounlock2-data-v-4e6a65d6 3s infinite}.wb-drag_verify .wb-drag_dv_text *[data-v-4e6a65d6]{-webkit-text-fill-color:#333!important}.goFirst[data-v-4e6a65d6]{left:0!important;transition:left .5s}.goOrigin[data-v-4e6a65d6]{transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.goKeep[data-v-4e6a65d6]{transition:left .2s}.goFirst2[data-v-4e6a65d6]{width:0!important;transition:width .5s}.drag-verify-container[data-v-4e6a65d6]{position:relative;line-height:0;border-radius:50%}.move-bar[data-v-4e6a65d6]{position:absolute;z-index:100}.clip-bar[data-v-4e6a65d6]{position:absolute;background:hsla(0,0%,100%,.8)}.refresh[data-v-4e6a65d6]{position:absolute;right:5px;top:5px;cursor:pointer;font-size:20px;z-index:200}.tips[data-v-4e6a65d6]{position:absolute;bottom:25px;height:20px;line-height:20px;text-align:center;width:100%;font-size:12px;z-index:200}.tips.success[data-v-4e6a65d6]{background:hsla(0,0%,100%,.6);color:green}.tips.danger[data-v-4e6a65d6]{background:rgba(0,0,0,.6);color:#ff0}.check-img[data-v-4e6a65d6]{width:100%;border-radius:50%}@-webkit-keyframes slidetounlock-data-v-4e6a65d6{0%{background-position:%?-300?% 0}100%{background-position:%?300?% 0}}@keyframes slidetounlock-data-v-4e6a65d6{0%{background-position:%?-300?% 0}100%{background-position:%?300?% 0}}@-webkit-keyframes slidetounlock2-data-v-4e6a65d6{0%{background-position:%?-300?% 0}100%{background-position:%?-300?% 0}}@keyframes slidetounlock2-data-v-4e6a65d6{0%{background-position:%?-300?% 0}100%{background-position:%?-300?% 0}}',""]),t.exports=e},"9e7b":function(t,e,i){"use strict";i.r(e);var a=i("0b6a"),s=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},cfb2:function(t,e,i){"use strict";i.r(e);var a=i("e932"),s=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},e932:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("99af"),i("ac1f"),i("e25e");var a={name:"dragVerify",props:{isPassing:{type:Boolean,default:!1},width:{type:[Number,String],default:500},height:{type:[Number,String],default:80},text:{type:String,default:""},successText:{type:String,default:""},failText:{type:String,default:""},background:{type:String,default:"#eee"},progressBarBg:{type:String,default:"#76c61d"},completedBg:{type:String,default:"#76c61d"},circle:{type:Boolean,default:!1},radius:{type:[Number,String],default:8},handlerIcon:{type:String,default:"arrow-right-double"},successIcon:{type:String,default:"checkmark-circle"},handlerBg:{type:String,default:"#fff"},textSize:{type:[Number,String],default:28},textColor:{type:String,default:"#000"},imgSrc:{type:String,default:""},showTips:{type:Boolean,default:!0},diffDegree:{type:Number,default:10},minDegree:{type:Number,default:120},maxDegree:{type:Number,default:270}},mounted:function(){},computed:{Text:function(){return this.text||this.$t?this.$t("wb.dragVerify.text"):"请按住滑块拖动"},SuccessText:function(){return this.successText||this.$t?this.$t("wb.dragVerify.success"):"验证通过"},FailText:function(){return this.failText||this.$t?this.$t("wb.dragVerify.fail"):"验证失败"},handlerStyle:function(){return{left:this.handlerLeft+"px",width:this.height+"rpx",height:this.height+"rpx",background:this.handlerBg}},successMessage:function(){return this.isPassing?this.SuccessText:""},message:function(){return this.isPassing?"":this.Text},dragVerifyStyle:function(){return{width:this.width+"rpx",height:this.height+"rpx",lineHeight:this.height+"rpx",background:this.background,borderRadius:this.circle?this.height+"rpx":this.radius+"rpx"}},dragVerifyImgStyle:function(){return{width:this.width+"rpx",height:this.width+"rpx",position:"relative",overflow:"hidden","border-radius":"50%"}},progressBarStyle:function(){return{background:this.isPassing?this.completedBg:this.progressBarBg,height:this.height+"rpx",width:this.progressBarWidth+"px",borderRadius:this.circle?this.height/2+"rpx 0 0 "+this.height/2+"rpx":this.radius,fontSize:this.textSize+"rpx",color:this.isPassing?"#fff":this.textColor}},textStyle:function(){return{height:this.height+"rpx",width:this.width+"rpx",fontSize:this.textSize+"rpx",background:"linear-gradient(95deg, ".concat(this.textColor,", ").concat(this.textColor,",").concat(this.textColor,",").concat(this.textColor,",").concat(this.textColor,",  #fff, ").concat(this.textColor,", ").concat(this.textColor,", ").concat(this.textColor,",").concat(this.textColor,",").concat(this.textColor,")"),color:this.isPassing?"#fff":this.textColor,fontWeight:this.isPassing?"bold":"normal","-webkit-text-fill-color":this.isPassing?"unset":"transparent","-webkit-background-clip":"text"}},factor:function(){return this.minDegree==this.maxDegree?Math.floor(1+6*Math.random())/10+1:1}},data:function(){return{isMoving:!1,x:0,isOk:!1,handlerLeft:0,progressBarWidth:0,showBar:!1,showErrorTip:!1,ranRotate:0,cRotate:0,imgStyle:{}}},methods:{checkimgLoaded:function(){var t=this.minDegree,e=this.maxDegree,i=Math.floor(t+Math.random()*(e-t));this.ranRotate=i,console.log("旋转"+i),this.imgStyle={transform:"rotateZ(".concat(i,"deg)")}},getPoint:function(t){return t?t.touches&&t.touches[0]?{x:t.touches[0].pageX,y:t.touches[0].pageY}:t.changedTouches&&t.changedTouches[0]?{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.clientX,y:t.clientY}:{x:0,y:0}},dragStart:function(t){var e=this;if(!this.isPassing){this.isMoving=!0;var i=this.getPoint(t);uni.createSelectorQuery().in(this).select("#handler").boundingClientRect((function(t){e.x=i.x-parseInt(t.left,10)})).exec()}this.showBar=!0,this.showErrorTip=!1},dragMoving:function(t){if(this.isMoving&&!this.isPassing){var e=this.getPoint(t),i=e.x-this.x;this.handlerLeft=i,this.progressBarWidth=i+uni.upx2px(this.height/2);var a=Math.ceil(i/uni.upx2px(this.width-this.height)*this.maxDegree*this.factor);this.cRotate=a;var s=this.ranRotate-a;this.imgStyle={transform:"rotateZ(".concat(s,"deg)")}}},dragFinish:function(t){var e=this;if(this.isMoving&&!this.isPassing){this.getPoint(t);Math.abs(this.ranRotate-this.cRotate)>this.diffDegree?(this.isOk=!0,this.imgStyle={transform:"rotateZ(".concat(this.ranRotate,"deg)")},setTimeout((function(){e.handlerLeft=0,e.progressBarWidth=0,e.isOk=!1}),500),this.showErrorTip=!0,this.$emit("verify",!1)):this.passVerify(),this.isMoving=!1}},passVerify:function(){this.$emit("update:isPassing",!0),this.isMoving=!1,this.$emit("verify",!0)},reset:function(){this.reImg(),this.checkimgLoaded()},reImg:function(){this.$emit("update:isPassing",!1);var t=this.$options.data();for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&this.$set(this,e,t[e]);this.handlerLeft=0,this.progressBarWidth=0}},watch:{imgSrc:{immediate:!1,handler:function(){this.reImg()}}}};e.default=a},e9cd:function(t,e,i){"use strict";var a=i("7cc4"),s=i.n(a);s.a}}]);